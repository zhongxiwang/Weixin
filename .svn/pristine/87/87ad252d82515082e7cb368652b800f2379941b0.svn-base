webpackJsonp([2],{"1alg":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Z2aw"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],staticClass:"viewbody",attrs:{id:"#scroll","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[i("el-row",{staticClass:"FileList-search"},[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"demo-input-suffix"},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入标题",size:"small","prefix-icon":"el-icon-search"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},nativeOn:{click:function(e){t.getFileListSearch()}},slot:"append"})],1)],1)])],1),t._v(" "),0==t.data.length?i("el-row",[i("el-col",{staticClass:"FileList-Error",attrs:{span:24}},[t._v("无数据")])],1):t._e(),t._v(" "),t._l(t.data,function(e,a){return i("a",{key:a,staticStyle:{color:"#000000"},on:{click:function(i){t.downFile(e)}}},[i("el-row",{staticClass:"FileList"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"FileList-img",attrs:{span:5}},[i("div",{staticClass:"img-border"},[i("i",{staticClass:"iconfont icon-xiazai",staticStyle:{"font-size":"4rem"}})])]),t._v(" "),i("el-col",{staticClass:"FileList-title",attrs:{span:19}},[i("el-badge",{staticClass:"item",attrs:{"is-dot":"",hidden:!("1"!=e.readflag&&"Y"!=e.readflag)}},[t._v("\n              "+t._s(t._f("filenamefilter")(e.filename,"$"," "))+"\n          ")])],1),t._v(" "),i("el-col",{staticClass:"FileList-info",attrs:{span:24}},[i("el-row",[i("el-col",{attrs:{span:12}},[t._v("创建人: "+t._s(e.username))]),t._v(" "),i("el-col",{attrs:{span:12}},[t._v("接收时间: "+t._s(t._f("stringreplace")(e.createtime,"T"," ")))])],1)],1)],1)],1)],1)})],2)},staticRenderFns:[]};var n=function(t){i("MFKg"),i("46SL")},l=i("VU/8")(a.a,s,!1,n,"data-v-7d1091ae",null);e.default=l.exports},"46SL":function(t,e){},MFKg:function(t,e){},Z2aw:function(t,e,i){"use strict";(function(t){var a=i("yBSu").a.dictionary;e.a={name:"FileList",data:function(){return{isFirstEnter:!1,loading2:!0,data:[],pageNum:1,PageMax:20,value:"",sw:!1}},beforeRouteEnter:function(t,e,i){i()},activated:function(){var e=this.$route.params.type;if(this.$GetWxUserInfo(this.$route),"sj"==a[e].region&&this.$GetSjUserInfo(this.$UserInfo.mobile),0==this.$UserInfo.userId)return t("#app").hide(0),layer.alert("数据库中不存在当前用户信息、请咨询相关人员！"),!1;if(!this.$route.meta.isBack||this.isFirstEnter){var i=this;this.$wx;this.getFileList(),"1"==this.pageNum&&(this.loading2=!0),t(window).scroll(function(e){var a=t(this).scrollTop(),s=t(document).height();if(a+t(this).height()>=s-350){if("filelist"!=i.$route.name.toLowerCase())return!1;i.sw&&(i.sw=!1,this.pageNum=this.pageNum+1,i.getFileList())}})}this.$route.meta.isBack=!1,this.isFirstEnter=!1},created:function(){this.isFirstEnter=!0;var e=this.$route.params.type.toLowerCase();t("#title").html(a[e].title)},methods:{getFileList:function(){var t=this,e=t.$MyGlobal,i=t.$UserInfo.loginName,s=this.$route.params.type,n=(a[s].type,this.value),l=a[s].AjaxData(this.pageNum,this.PageMax,i,n),r=l.type.join(",");e.GetDataAjax("get",r,l,function(e){if(t.pageNum<=1)t.data=e;else for(var i in e)t.data.push(e[i]);t.pageNum+=1,t.loading2=!1,e.length>0?t.sw=!0:(t.sw=!1,layer.msg("无数据！"))},function(e){t.loading2=!1,layer.alert("获取FileList发生异常！")})},getFileListSearch:function(){this.data=[],this.pageNum=1,this.loading2=!0,this.getFileList()},downFile:function(t){t.readflag="1";var e=this.$route.params.type;"fj"==a[e].region?window.location.href="http://218.94.36.101:8888/weixinpage/ftpfile/res/"+t.filepath:"SubData"==t.department?window.location.href="http://218.94.36.101:8888/Ftpfile/"+t.owner+"/"+t.filename:window.location.href="http://218.94.36.101:8888/weixinpage/ftpfile/res/"+t.department+"/"+t.owner+"/"+t.filename}}}}).call(e,i("7t+N"))}});
//# sourceMappingURL=2.355e482dd560a37bf085.js.map